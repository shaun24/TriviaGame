<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href ="trivia-assets/trivia.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>
<body>
<div class="container">
    <div class="row">
        <span class="col-sm-2 col-md-2"></span>
        <span class="col-sm-8 col-md-8" id="question"></span>
        <span class="col-sm-2 col-md-2"></span>
        
    </div>
        <br>
        <div class="row">
        <div class="col-md-4"></div>
        <div class="boxChoice col-md-4">
        <div>
            <button><span class="answer-choice" id="choice-one"></span></button>
        </div>
        <div>
        <button><span class="answer-choice" id="choice-two"></span></button>
        </div>
        <div>
        <button><span class="answer-choice" id="choice-three"></span></button>
        </div>
        <div>
            <button><span class="answer-choice" id="choice-four"></span></button>
        </div>
        <div>
            <button><span class="answer-choice" id="choice-five"></span></button>
        </div>
        </div>
        <div class="col-md-4"></div>
    </div>
    </div>
    <br>
    <br>
    <br>
    <div class="row">
    <div class="ovrScore">
        <p>You have answered <span id="valueTracker"></span> of 5 correctly!</p>
    </div>
    <div class="col-md-5"></div>
    <div class="col-md-2"id="Timer"></div>
    <div class="col-md-5"></div>
</div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>

    //constants
    const questionDiv = document.getElementById("question");
    const choiceOne = document.getElementById("choice-one");
    const choiceTwo = document.getElementById("choice-two");
    const choiceThree = document.getElementById("choice-three");
    const choiceFour = document.getElementById("choice-four");
    const choiceFive = document.getElementById("choice-five");
    const scoreTracker = document.getElementById("valueTracker");
    var showTime = document.getElementById("Timer")


    var questions = [{
      question: "Whose house was burned to the ground?",
      choices: ["James May", "Jeremy Clarkson", "Richard Hammond", "An audience member", "A producer of TopGear"],
      correctAnswer: "Jeremy Clarkson"
    }, {
      question: "Who tried to make a car out of mud?",
      choices: ["James May", "Jeremy Clarkson", "Richard Hammond", "The stig", "A celebrity guest"],
      correctAnswer: "James May"
    }, {
      question: "Who won Battleship?",
      choices: ["The Stig", "The American", "James May", "Richard Hammond", "Jeremy Clarkson"],
      correctAnswer: "Richard Hammond"
    }, {
      question: "Who got punched in the face?",
      choices: ["The American", "A producer of TopGear", "Jeremy Clarkson", "Richard Hammond", "A local"],
      correctAnswer: "A producer of TopGear"
    }, {
      question: "Who totaled a 1.4MM Croatian super car while subsequently injuring himself?",
      choices: ["The stig", "James May", "A celebrity guest", "Richard Hammond", "Jeremy Clarkson"],
      correctAnswer: "Richard Hammond"
    }]
    
    // var questionsArray = [questions[0].question, questions[1].question, questions[2].question,
    //                       questions[3].question, questions[4].question];
    // var choicesArray =   [questions[0].choices, questions[1].choices, questions[2].choices,
    //                       questions[3].choices, questions[4].choices];
    // var answersArray =   [questions[0].correctAnswer, questions[1].correctAnswer, questions[2].correctAnswer,
    //                       questions[3].correctAnswer, questions[4].correctAnswer];
    var questionCounter = 0; //1
    var scoreCounter = 1;  
    var selections = [];
    var timeLeft = 10;
    var intervalOne = setInterval(decrease, 1000);
    //score tracker
    //timer
    //design stuff
    //have a start button and a play again button mabye

    function initGame(){
        initQuestion();
        addEvents();
        decrease();
        // questionTime();
    }


    function decrease() {
        var timer = timeLeft--;
        setInterval(timer, 1000);
        console.log(timeLeft);
        showTime.textContent = timeLeft;

        if (timeLeft === 0) { 
        //     clearInterval(intervalOne);
        //     initQuestion(); 
        //     // setInterval(intervalOne);
        questionTime();
            
        }
    };
    function questionTime(){
        var timeLeft = 20;
        var timer = timeLeft--;
    for(var i = 0; i < questions.length; i++){
        var timeLeft = 20;
        var timer = timeLeft--;
        if (timeLeft === 0) {
            clearInterval(intervalOne);
            initQuestion();
            setInterval(timer, 1000);
        }
    }}
    
    function initQuestion() {
        if(questionCounter < questions.length){
            var currentQuestion = questions[questionCounter];
            questionDiv.textContent = currentQuestion.question;
            choiceOne.textContent = currentQuestion.choices[0];
            choiceTwo.textContent = currentQuestion.choices[1];
            choiceThree.textContent = currentQuestion.choices[2];
            choiceFour.textContent = currentQuestion.choices[3];
            choiceFive.textContent = currentQuestion.choices[4];    
            questionCounter++;

        }else {
            // document.write(scoreCounter);
        } 
    }

    function addEvents(){
        var buttons = document.querySelectorAll(".answer-choice");
        for (var i = 0; i < buttons.length; i++) {
            buttons[i].addEventListener('click', function(e) {
                var userChoice = this.textContent;
                if(userChoice === questions[questionCounter - 1].correctAnswer){
                    alert("you're correct!");
                    scoreTracker.textContent = scoreCounter++
                }else {
                    alert("not correct");
                }
                console.log(questionCounter);
                initQuestion();
            });
        }
    }

    initGame();


    // }
    // function game() {
    //     var theChoice = document.getElementsByClassName("answerChoices")

    //     theChoice.addEventListener('click', function(e){
    //         if ('click' === answersArray) {
    //         alert("Correct!");
    //         document.querySelector("#questionGenorator").innerHTML =
    //         questionsArray[1];
    //         document.querySelector("#answerChoices1").innerHTML = 
    //         choicesArray [1]; 
    //     }})
    // function game() {

        // $(".answerChoices").on("click", function() {
        //     if ( choicesArray[0][1]=== answersArray[0]) {
        //         alert("Correct!")
        //         document.querySelector("#questionGenorator").innerHTML =
        //         questionsArray[1];
        //         document.querySelector("#answerChoices1").innerHTML = 
        //         answersArray[1];
        //         document.querySelector("#answerChoices2").innerHTML = 
        //         choicesArray[1][1];
        //         document.querySelector("#answerChoices3").innerHTML =
        //         choicesArray[1][2];
        //     } 
        // })

        // function nextQuestion() {
        //     for (var i = 0; i <= questionsArray.length; i++)  {
        //         $(".answerChoices").on("click", function() {
        //             document.querySelector("#questionGenorator").innerHTML =
        //             questionsArray[i]+=1;
        //         })
        //     }
        // }

            // document.querySelector("#answerChoices2").innerHTML =
            // correctAnswer[1]
            
        
    

    // answersArray.addEventListener('click', function(e) {
    //     game()
    // })


    //nextQuestion();
    // game();
    // $("#questionGenorator").text(questions[0].question);
    // $("#answerChoices").text(questions[0].choices);
            // if (questionCounter <= questionsArray - 1, questionCounter++) {
        //     document.querySelector("#questionGenorator").innerHTML =
        //     questionsArray[0];
        //     console.log(questionsArray[0])

</script>
</html>